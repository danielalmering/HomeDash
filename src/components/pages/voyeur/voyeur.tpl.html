<div class="voyeur">
    <div class="voyeur__screen" v-if="mainTile">
        <div class="voyeur__screen-object">
            <jsmpeg
                v-on:stateChange="viewerStateChange"
                v-on:error="viewerError"
                :wowza="mainTile.streamData.wowza"
                :playStream="mainTile.streamData.playStream">
            </jsmpeg>
        </div>
    </div>

    <div class="voyeur__block">
        <div class="voyeur__block-title"><i class="fa fa-star"></i> {{ $t("voyeur.favorites") }}<span></span></div>
        <ul class="voyeur__block-list">
            <li v-for="favorite in favoritePerformers" v-on:click="swap(favorite.id)">
                {{ favorite.nickname }} <i>({{ favorite.advert_numbers[0].advertNumber }})</i>
            </li>
        </ul>
    </div>

    <div class="voyeur__block">
        <div class="voyeur__block-title"><i class="fa fa-clock-o"></i> {{ $t("voyeur.reserving") }}<span></span></div>
        <ul class="voyeur__block-list">
            <li v-for="reservation in reservations" v-on:click="swap(reservation.id)">
                {{ reservation.nickname }} <i>({{ reservation.advert_numbers[0].advertNumber }})</i>
            </li>
        </ul>
    </div>
    
    <confirmation v-if="availableReservation" :type="'dialog'" :title="$t('voyeur.dialog1on1Title', { name: availableReservation.nickname })" :subtitle="$t('voyeur.dialog1on1Subtitle', { name: availableReservation.nickname })" v-on:accept="acceptReservation" v-on:cancel="cancelReservation"></confirmation>
    <confirmation v-if="activeState === 'pending'" :type="'loader'" v-on:cancel="cancelRequest"></confirmation>
</div>