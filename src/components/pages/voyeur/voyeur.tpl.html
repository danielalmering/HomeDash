<div class="voyeur">
    <div class="voyeur__screen" v-if="mainTile">
        <div class="voyeur__screen-object">
            <jsmpeg
                v-on:stateChange="viewerStateChange"
                v-on:error="viewerError"
                :wowza="mainTile.streamData.wowza"
                :playStream="mainTile.streamData.playStream">
            </jsmpeg>
            <!-- <nanocosmos
                v-on:stateChange="viewerStateChange"
                v-on:error="viewerError"
                :wowza="mainTile.streamData.wowza"
                :playStream="mainTile.streamData.playStream">
            </nanocosmos> -->
        </div>
    </div>

    <div class="videochat__close" v-on:click="close"><i class="fa fa-times"></i></div>

    <div class="voyeur__block left">
        <div class="voyeur__block-title" v-on:click="showFavo = !showFavo"><i class="fa fa-star"></i> {{ $t("voyeur.favorites") }}<span :class="{ active:!showFavo }"></span></div>
        <ul class="voyeur__block-list" v-if="showFavo">
            <li v-for="favorite in favoritePerformers" v-on:click="swap(favorite.id)">
                {{ favorite.nickname }} <i>({{ favorite.advert_numbers[0].advertNumber }})</i>
            </li>
        </ul>
    </div>

    <div class="voyeur__block right">
        <div class="voyeur__block-title" v-on:click="showReserve = !showReserve"><i class="fa fa-clock-o"></i> {{ $t("voyeur.reserving") }}<span :class="{ active:!showReserve }"></span></div>
        <ul class="voyeur__block-list" v-if="showReserve">
            <li v-for="reservation in reservations" v-on:click="swap(reservation.id)">
                {{ reservation.nickname }} <i>({{ reservation.advert_numbers[0].advertNumber }})</i>
            </li>
        </ul>
    </div>

    <confirmation v-if="availableReservation" :type="'dialog'" :title="$t('voyeur.dialog1on1Title', { name: availableReservation.nickname })" :subtitle="$t('voyeur.dialog1on1Subtitle', { name: availableReservation.nickname })" v-on:accept="acceptReservation" v-on:cancel="cancelReservation"></confirmation>
    <confirmation v-if="activeState === 'pending'" :type="'loader'" v-on:cancel="cancelRequest"></confirmation>
</div>
